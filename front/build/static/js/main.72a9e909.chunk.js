(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{110:function(e,t){},123:function(e,t,a){},125:function(e,t,a){},150:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),n=a.n(s),r=a(50),i=a.n(r),l=(a(123),a(124),a(9)),o=(a(125),a(7)),j=a(15),d=a(10),h=a.n(d),b=a(6),O=a.n(b),u=a(21),x=a(12),m=a(11),p=a(159),v=a(158),f=a(152),g=a(153),w=a(112),k=a(154),N=a(160),y=a(156),S=a(157),C=a(56),A=a.n(C);var I=function(e){var t=e.isAuth,a=(e.logout,e.setIsAuth);return function(e){var n=Object(s.useState)(),r=Object(l.a)(n,2),i=r[0],d=r[1],b=Object(s.useState)(),C=Object(l.a)(b,2),I=C[0],R=C[1],B=Object(s.useState)(),L=Object(l.a)(B,2),D=L[0],T=L[1],H=Object(s.useState)(),q=Object(l.a)(H,2),Y=q[0],P=q[1],M=Object(s.useState)([]),z=Object(l.a)(M,2),W=z[0],V=z[1],E=Object(s.useState)(!1),U=Object(l.a)(E,2),F=U[0],K=U[1],_=function(){return K(!1)},J=Object(s.useState)(!1),Q=Object(l.a)(J,2),G=Q[0],$=Q[1],X=function(){return $(!1)},Z=Object(j.g)().id;function ee(){return te.apply(this,arguments)}function te(){return(te=Object(m.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/customer/".concat(Z),{headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.next=7,d(a.data.customer);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ae(){return ce.apply(this,arguments)}function ce(){return(ce=Object(m.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/customer/".concat(Z,"/app"),{headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.next=7,V(a.data.customer.appointments);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function se(){return(se=Object(m.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/workshop",{headers:{Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.next=7,P(a.data.workshop);case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ne(e){R(Object(x.a)(Object(x.a)({},I),{},Object(u.a)({},e.target.name,e.target.value)))}function re(e){T((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(u.a)({},e.target.name,e.target.value))}))}function ie(){return(ie=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.post("/api/customer/newvehicle/".concat(Z),I,{headers:{Authorization:"Bearer ".concat(t)}});case 4:ee(),_(),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}if(Object(s.useEffect)((function(){ee(),function(){se.apply(this,arguments)}(),ae()}),[]),!t)return Object(c.jsx)(j.a,{to:"/login"});function le(){return(le=Object(m.a)(O.a.mark((function e(){var t,a,c,s,n,r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=D.vehicle,a=D.date,c=D.work,s=D.others,n=D.workshop,r="others"===c?{vehicle:t,date:a,work:s,workshop:n}:{vehicle:t,date:a,work:c,workshop:n},i=localStorage.getItem("token"),e.next=6,h.a.post("/api/appointment/new/".concat(Z),r,{headers:{Authorization:"Bearer ".concat(i)}});case 6:e.sent,ee(),ae(),X(),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(c.jsxs)("div",{className:"cdash",children:[Object(c.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",expand:"lg",children:[Object(c.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(c.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(v.a,{className:"",children:[Object(c.jsx)(v.a.Link,{as:o.b,to:"/login",children:"Home"}),Object(c.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Workshops"}),Object(c.jsx)(v.a.Link,{onClick:function(){localStorage.removeItem("token"),a(!1)},children:"Logout"})]})})]}),Object(c.jsx)(f.a,{className:"cont shadow",children:Object(c.jsxs)(g.a,{children:[Object(c.jsxs)(w.a,{md:8,children:[Object(c.jsx)("div",{className:"my-3",children:Object(c.jsxs)("h1",{children:["Hello ",Object(c.jsx)("strong",{children:i&&i.firstname}),"!"]})}),Object(c.jsx)("div",{className:"my-3",children:Object(c.jsxs)("h2",{children:[Object(c.jsx)("i",{class:"far fa-calendar-check"})," You have",W&&0===W.length?" no appointments scheduled.":" ".concat(W.length," appointments scheduled.")]})}),Object(c.jsx)("div",{className:"my-3",children:Object(c.jsxs)(k.a,{className:"mx-1 my-1",variant:"secondary",onClick:function(){return $(!0)},children:[Object(c.jsx)("i",{class:"fas fa-plus"})," Make an Appointment"]})}),Object(c.jsx)(g.a,{children:W&&W.map((function(e){return Object(c.jsx)(w.a,{lg:4,md:6,children:Object(c.jsxs)(N.a,{className:"text-center mb-3 shadow card",text:"dark",style:{height:"18rem"},children:[Object(c.jsxs)(N.a.Header,{children:[A()(e.date).format("dddd, DD MMMM YYYY"),Object(c.jsx)("br",{}),e.isAcknowledged?Object(c.jsx)("span",{class:"badge badge-pill badge-success",children:"Acknowledged"}):Object(c.jsx)("span",{class:"badge badge-pill badge-danger",children:"Pending"})]}),Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)("div",{children:e.vehicle.vehicleNumber}),Object(c.jsx)("div",{children:e.work}),Object(c.jsx)("div",{children:Object(c.jsx)("strong",{children:e.workshop.name})})]}),Object(c.jsx)(N.a.Footer,{children:Object(c.jsx)(k.a,{className:"btn-block",variant:"info",as:o.b,to:"/cust/appointment/".concat(e._id),children:"View"})})]},e._id)})}))}),Object(c.jsx)(g.a,{})]}),Object(c.jsxs)(w.a,{md:4,children:[Object(c.jsxs)("div",{className:"my-3 text-center",children:[Object(c.jsx)("h2",{children:"Vehicles"}),Object(c.jsxs)(k.a,{className:"",variant:"secondary",onClick:function(){return K(!0)},children:[Object(c.jsx)("i",{class:"fas fa-plus"})," Add New Vehicle"]})]}),Object(c.jsx)("div",{className:"my-3"}),Object(c.jsx)(f.a,{className:"text-center",children:Object(c.jsxs)(g.a,{children:[i&&0===i.vehicles.length&&Object(c.jsx)(w.a,{lg:12,children:Object(c.jsx)(N.a,{className:"text-center rounded",children:Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)("i",{style:{fontSize:"3rem"},class:"fas fa-traffic-light mb-2"}),Object(c.jsxs)("div",{children:["Your vehicle will be shown here. ",Object(c.jsx)("br",{}),"Start by adding a new vehicle!"]})]})})}),i&&i.vehicles.map((function(e){return Object(c.jsx)(w.a,{md:12,children:Object(c.jsxs)(N.a,{className:"text-center mb-3 shadow",children:[Object(c.jsxs)(N.a.Body,{children:["Car"===e.type?Object(c.jsx)("i",{style:{fontSize:"2rem"},class:"fas fa-car-side"}):Object(c.jsx)("i",{style:{fontSize:"2rem"},class:"fas fa-motorcycle"}),Object(c.jsx)("div",{children:e.vehicleNumber}),Object(c.jsx)("div",{children:e.make+" "+e.model})]}),Object(c.jsx)(N.a.Footer,{children:Object(c.jsx)(k.a,{className:"btn-block",variant:"info",as:o.b,to:"/cust/vehicle/".concat(e._id),children:"View"})})]},e._id)})})),Object(c.jsx)(f.a,{className:"text-center"}),Object(c.jsxs)(y.a,{show:F,onHide:_,backdrop:"static",keyboard:!1,children:[Object(c.jsx)(y.a.Header,{closeButton:!0,children:Object(c.jsx)(y.a.Title,{children:"Add New Vehicle"})}),Object(c.jsx)(y.a.Body,{children:Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{class:"form-group",children:[Object(c.jsx)("label",{for:"vehicleNumber",children:"Vehicle Number"}),Object(c.jsx)("input",{type:"text",class:"form-control",placeholder:"SBA6969K",name:"vehicleNumber",onChange:ne})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(S.a.Label,{children:"Vehicle Type"}),Object(c.jsxs)(S.a.Control,{name:"type",onChange:ne,as:"select",children:[Object(c.jsx)("option",{children:"Select One.."}),Object(c.jsx)("option",{children:"Car"}),Object(c.jsx)("option",{children:"Motorcycle"})]})]}),Object(c.jsxs)("div",{class:"form-group",children:[Object(c.jsx)("label",{for:"vehicleMake",children:"Vehicle Make"}),Object(c.jsx)("input",{type:"text",class:"form-control",placeholder:"Honda",name:"make",onChange:ne})]}),Object(c.jsxs)("div",{class:"form-group",children:[Object(c.jsx)("label",{for:"vehicleModel",children:"Vehicle Model"}),Object(c.jsx)("input",{type:"text",class:"form-control",placeholder:"Civic Type R",name:"model",onChange:ne})]})]})}),Object(c.jsxs)(y.a.Footer,{children:[Object(c.jsx)(k.a,{variant:"secondary",onClick:_,children:"Close"}),Object(c.jsx)(k.a,{onClick:function(){return ie.apply(this,arguments)},variant:"primary",children:"Submit"})]})]})]})}),Object(c.jsxs)(y.a,{show:G,onHide:X,children:[Object(c.jsx)(y.a.Header,{closeButton:!0,children:Object(c.jsx)(y.a.Title,{children:"Make Appointment"})}),Object(c.jsx)(y.a.Body,{children:Object(c.jsxs)(S.a,{children:[Object(c.jsx)(S.a.Label,{children:"Vehicle"}),Object(c.jsxs)(S.a.Control,{name:"vehicle",as:"select",onChange:re,children:[Object(c.jsx)("option",{children:"Select One"}),i&&i.vehicles.map((function(e){return Object(c.jsxs)("option",{value:e._id,children:[e.vehicleNumber," ",e.make," ",e.model]})}))]}),Object(c.jsx)(S.a.Label,{children:"Date"}),Object(c.jsx)(S.a.Control,{type:"date",name:"date",placeholder:"Appointment Date",onChange:re}),Object(c.jsx)(S.a.Label,{children:"Type"}),Object(c.jsxs)(S.a.Control,{name:"work",as:"select",onChange:re,children:[Object(c.jsx)("option",{children:"Select One"}),Object(c.jsx)("option",{value:"annual servicing",children:"Annual Servicing"}),Object(c.jsx)("option",{value:"engine/fluids",children:"Engine/Fluids"}),Object(c.jsx)("option",{value:"brakes/suspension",children:"Brakes/Suspension"}),Object(c.jsx)("option",{value:"tyres/rims",children:"Tyres/Rims"}),Object(c.jsx)("option",{value:"body/paint",children:"Body/Paint"}),Object(c.jsx)("option",{value:"others",children:"Others"})]}),D&&"others"===D.work&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(S.a.Label,{children:"If others, please specify:"}),Object(c.jsx)(S.a.Control,{name:"others",placeholder:"Type",onChange:re})]}),Object(c.jsx)(S.a.Label,{children:"Workshop"}),Object(c.jsxs)(S.a.Control,{name:"workshop",as:"select",onChange:re,children:[Object(c.jsx)("option",{children:"Select One"}),Y&&Y.map((function(e){return Object(c.jsx)("option",{value:e._id,children:e.name})}))]})]})}),Object(c.jsxs)(y.a.Footer,{children:[Object(c.jsx)(k.a,{variant:"secondary",onClick:X,children:"Close"}),Object(c.jsx)(k.a,{onClick:function(){return le.apply(this,arguments)},children:"Submit"})]})]})]})]})})]})}()},R=a(155);var B=function(e){var t=e.isAuth,a=(e.logout,e.setIsAuth,Object(s.useState)({})),n=Object(l.a)(a,2),r=n[0],i=n[1],d=Object(j.g)().id,b=Object(s.useState)([]),u=Object(l.a)(b,2),x=u[0],k=u[1];return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/customer/vehicle/".concat(d),{headers:{Authorization:"Bearer ".concat(t)}});case 4:a=e.sent,i(a.data.vehicle),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function t(){return(t=Object(m.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/customer/vehicle/".concat(d,"/sr"),{headers:{Authorization:"Bearer ".concat(t)}});case 4:a=e.sent,k(a.data.vehicle.serviceRecord),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),t?Object(c.jsxs)("div",{className:"cdash",children:[Object(c.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",expand:"lg",children:[Object(c.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(c.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(v.a,{className:"",children:[Object(c.jsx)(v.a.Link,{as:o.b,to:"/login",children:"Home"}),Object(c.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Workshops"}),Object(c.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Logout"})]})})]}),Object(c.jsxs)(f.a,{className:"cont",children:[Object(c.jsx)(g.a,{children:Object(c.jsxs)(w.a,{md:12,className:"my-3 mx-3",children:[Object(c.jsx)("h1",{children:Object(c.jsx)("u",{children:"Vehicle Details"})}),Object(c.jsxs)("div",{className:"my-3",children:[Object(c.jsxs)("h3",{children:[Object(c.jsx)("strong",{children:"Model:"})," ",r&&r.make]}),Object(c.jsxs)("h3",{children:[Object(c.jsx)("strong",{children:"Make:"})," ",r&&r.model]}),Object(c.jsxs)("h3",{children:[Object(c.jsx)("strong",{children:"Vehicle Number:"})," ",r&&r.vehicleNumber]})]})]})}),Object(c.jsx)(g.a,{children:Object(c.jsxs)(w.a,{md:12,className:"my-2",children:[x&&0!=x.length?Object(c.jsx)("h1",{children:"Service History"}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("h1",{children:[Object(c.jsx)("i",{class:"far fa-clipboard"}),"  ",Object(c.jsx)("i",{children:"Service History will be displayed here."})]}),Object(c.jsxs)("h3",{children:[Object(c.jsx)("i",{class:"fas fa-wrench"}),"  ","You have no records available."]})]}),x&&x.map((function(e){return Object(c.jsxs)(N.a,{className:"my-2",children:[Object(c.jsx)(N.a.Header,{children:Object(c.jsx)("h4",{children:e.date})}),Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)("h5",{children:e.workshop.name}),Object(c.jsxs)(R.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"text-center",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"#"}),Object(c.jsx)("th",{children:"Item"}),Object(c.jsx)("th",{children:"Quantity"}),Object(c.jsx)("th",{children:"Price"})]})}),e.item.map((function(e,t){return Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t+1}),Object(c.jsx)("td",{children:e.item}),Object(c.jsx)("td",{children:e.qty}),Object(c.jsxs)("td",{children:["$",e.price]})]})},t)}))]})]})]},e._id)}))]})})]})]}):Object(c.jsx)(j.a,{to:"/login"})};var L=function(e){var t=e.isAuth,a=(e.logout,e.setIsAuth,Object(s.useState)()),n=Object(l.a)(a,2),r=n[0],i=n[1],d=Object(j.g)().id;return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(O.a.mark((function e(t){var a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage.getItem("token"),e.next=4,h.a.get("/api/customer/appointment/".concat(d),{headers:{Authorization:"Bearer ".concat(a)}});case 4:c=e.sent,i(c.data.appointment),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}()}),[]),t?Object(c.jsxs)("div",{className:"cdash",children:[Object(c.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",expand:"lg",children:[Object(c.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(c.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(v.a,{className:"",children:[Object(c.jsx)(v.a.Link,{as:o.b,to:"/login",children:"Home"}),Object(c.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Workshops"}),Object(c.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Logout"})]})})]}),Object(c.jsx)(f.a,{className:"cont",children:Object(c.jsx)(g.a,{children:Object(c.jsxs)(w.a,{children:[Object(c.jsx)("div",{className:"mt-3 mx-1",children:Object(c.jsx)("h1",{children:"Appointment Details"})}),r&&r.isAcknowledged?Object(c.jsx)("span",{class:"badge badge-pill badge-success my-2",children:"Acknowledged"}):Object(c.jsx)("span",{class:"badge badge-pill badge-danger my-2",children:"Pending Acknowledgement"}),Object(c.jsx)(g.a,{children:Object(c.jsx)(w.a,{children:Object(c.jsxs)(N.a,{children:[Object(c.jsx)(N.a.Header,{children:Object(c.jsx)("h3",{children:r&&r.date})}),Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)("h5",{children:r&&r.vehicle.vehicleNumber}),Object(c.jsx)("h5",{children:r&&r.vehicle.make+" "+r.vehicle.model}),Object(c.jsx)("h5",{children:r&&r.work})]}),Object(c.jsxs)(N.a.Footer,{children:[Object(c.jsx)("h5",{children:r&&r.workshop.name}),Object(c.jsx)("h5",{children:r&&r.workshop.address})]})]})})})]})})})]}):Object(c.jsx)(j.a,{to:"/login"})},D=(a(110),a(13)),T=(a.p,a(48));a(111);var H=function(e){var t=e.setIsAuth,a=e.isAuth,n=Object(s.useState)({}),r=Object(l.a)(n,2),i=(r[0],r[1],Object(s.useState)(!1)),d=Object(l.a)(i,2),b=(d[0],d[1],localStorage.getItem("id")),u=localStorage.getItem("token");Object(s.useEffect)((function(){!function(){if(u)t(!0),j.a,"/dashboard/cust/".concat(b)}()}),[]);var x=D.b().shape({email:D.c().email(),password:D.c()}),p=Object(T.a)({initialValues:{email:"",password:""},validationSchema:x,onSubmit:function(e){!function(e){A.apply(this,arguments)}(e)}}),v=p.handleSubmit,g=p.handleChange,N=p.errors,y=p.values,C=p.touched;function A(){return(A=Object(m.a)(O.a.mark((function e(a){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/auth/login",a);case 3:c=e.sent,localStorage.setItem("token",c.data.token),localStorage.setItem("id",c.data.id),t(!0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return p.handleBlur,a?Object(c.jsx)(j.a,{to:"/dashboard/cust/".concat(b)}):Object(c.jsx)("div",{className:"cdash d-flex align-items-center",children:Object(c.jsx)(f.a,{className:"text-center",children:Object(c.jsxs)(w.a,{md:4,className:"mx-auto py-4 cont2 shadow",children:[Object(c.jsx)("h3",{children:Object(c.jsxs)("strong",{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]})}),Object(c.jsxs)(S.a,{onSubmit:v,children:[Object(c.jsx)("div",{className:"my-2",children:"USER LOGIN"}),Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{placeholder:"email@email.com",value:y.email,onChange:g,name:"email",className:C.email&&N.email?"is-invalid":null}),C.email&&N.email?Object(c.jsx)("div",{className:"invalid-feedback",children:N.email}):null]}),Object(c.jsx)(S.a.Row,{className:"mb-3",children:Object(c.jsx)(S.a.Control,{onChange:g,placeholder:"password",value:y.password,name:"password",type:"password"})}),Object(c.jsx)(S.a.Row,{className:"mb-3",children:Object(c.jsx)(k.a,{type:"submit",block:!0,children:"Login"})})]}),Object(c.jsx)(o.c,{to:"/register",children:"Sign Up Now "}),Object(c.jsx)("div",{className:"my-1",children:Object(c.jsx)(o.c,{to:"/ws/login",children:"Admin Login"})})]})})})};var q=function(e){var t=e.setIsRegis,a=e.isRegis,n=Object(s.useState)({}),r=Object(l.a)(n,2),i=r[0];r[1];var d=D.b().shape({firstname:D.c().required("Required").min(2,"Too Short!").max(70,"Too Long!"),lastname:D.c().min(2,"Too Short!").max(70,"Too Long!").required("Required"),username:D.c().min(2,"Too Short!").max(70,"Too Long!").required("Required"),email:D.c().email("Invalid email").required("Required"),password:D.c().label("Password").required("Required").min(2,"Seems a bit short...").max(10,"We prefer insecure system, try a shorter password.")}),b=Object(T.a)({initialValues:{firstname:"",lastname:"",username:"",email:"",password:""},validationSchema:d,onSubmit:function(e){!function(e){N.apply(this,arguments)}(e)}}),u=b.handleSubmit,x=b.handleChange,p=b.errors,v=b.values,g=b.touched;function N(){return(N=Object(m.a)(O.a.mark((function e(a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/auth/register",i);case 3:e.sent,t(!0),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return b.handleBlur,a?Object(c.jsx)(j.a,{to:"/"}):Object(c.jsx)("div",{className:"cdash d-flex align-items-center",children:Object(c.jsx)(f.a,{className:"text-center",children:Object(c.jsxs)(w.a,{md:4,className:"mx-auto py-4 cont2 shadow",children:[Object(c.jsx)("h3",{children:Object(c.jsxs)("strong",{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]})}),Object(c.jsxs)(S.a,{onSubmit:u,children:[Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{placeholder:"First Name",values:v.firstname,onChange:x,name:"firstname",className:g.firstname&&p.firstname?"is-invalid":null}),g.firstname&&p.firstname?Object(c.jsx)("div",{className:"invalid-feedback",children:p.firstname}):null]}),Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{placeholder:"Last Name",values:v.lastname,onChange:x,name:"lastname",className:g.lastname&&p.lastname?"is-invalid":null}),g.lastname&&p.lastname?Object(c.jsx)("div",{className:"invalid-feedback",children:p.lastname}):null]}),Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{placeholder:"Username",values:v.username,onChange:x,name:"username",className:g.username&&p.username?"is-invalid":null}),g.username&&p.username?Object(c.jsx)("div",{className:"invalid-feedback",children:p.username}):null]}),Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{placeholder:"email@email.com",values:v.email,onChange:x,name:"email",className:g.email&&p.email?"is-invalid":null}),g.email&&p.email?Object(c.jsx)("div",{className:"invalid-feedback",children:p.email}):null]}),Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{onChange:x,placeholder:"Password",values:v.password,name:"password",type:"password",className:g.password&&p.password?"is-invalid":null}),g.password&&p.password?Object(c.jsx)("div",{className:"invalid-feedback",children:p.password}):null]}),Object(c.jsx)(S.a.Row,{className:"mb-3",children:Object(c.jsx)(k.a,{type:"submit",block:!0,children:"Register"})})]}),Object(c.jsx)(o.c,{to:"/login",children:" Back "})]})})})};var Y=function(e){var t=e.isAuth,a=e.logout,n=(e.setIsAuth,Object(s.useState)()),r=Object(l.a)(n,2),i=r[0],d=r[1],b=Object(s.useState)([]),u=Object(l.a)(b,2),x=(u[0],u[1],Object(j.g)().id);return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/workshop/".concat(x),{headers:{Authorization:"Bearer ".concat(t)}});case 4:a=e.sent,d(a.data.workshop),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function t(){return(t=Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("/api/workshop/".concat(x,"/app"));case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]),t?Object(c.jsxs)("div",{className:"cdash",children:[Object(c.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",expand:"lg",children:[Object(c.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(c.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(v.a,{className:"",children:[Object(c.jsx)(v.a.Link,{as:o.b,to:"/ws/login",children:"Home"}),Object(c.jsx)(v.a.Link,{as:o.b,to:"/ws/customers/".concat(x),children:"Customers"}),Object(c.jsx)(v.a.Link,{onClick:a,children:"Logout"})]})})]}),Object(c.jsx)(f.a,{className:"cont shadow",children:Object(c.jsx)(g.a,{children:Object(c.jsxs)(w.a,{md:12,children:[Object(c.jsx)("div",{className:"my-3 mx-3",children:Object(c.jsxs)("h1",{children:["Welcome, ",i&&i.name," !"]})}),Object(c.jsx)("div",{className:"my-3 mx-3",children:Object(c.jsxs)("h2",{children:[Object(c.jsx)("i",{class:"far fa-clipboard"})," You have"," ",i&&i.appointments.length," appointments."]})}),Object(c.jsxs)(g.a,{children:[i&&0===i.appointments.length&&Object(c.jsx)(w.a,{md:12,children:Object(c.jsx)(N.a,{className:"text-center",children:Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)("i",{style:{fontSize:"3rem"},class:"fas fa-traffic-light mb-2"}),Object(c.jsx)("div",{children:"Upcoming appointments will be shown here!"})]})})}),i&&i.appointments.map((function(e){return Object(c.jsx)(w.a,{md:4,sm:6,children:Object(c.jsxs)(N.a,{className:"text-center shadow my-2",children:[Object(c.jsxs)(N.a.Header,{children:[Object(c.jsx)(N.a.Title,{children:Object(c.jsx)("div",{children:A()(e.date).format("dddd, DD MMMM YYYY")})}),Object(c.jsx)("div",{children:e.isAcknowledged?Object(c.jsx)("span",{class:"badge badge-pill badge-success",children:"Acknowledged"}):Object(c.jsx)("span",{class:"badge badge-pill badge-danger",children:"Pending"})})]}),Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)("i",{style:{fontSize:"4rem"},class:"fas fa-tools"}),Object(c.jsx)("div",{className:"my-3",children:Object(c.jsx)("h5",{children:e.work})})]}),Object(c.jsx)(N.a.Footer,{children:Object(c.jsx)(k.a,{variant:"outline-info",as:o.b,to:"/ws/appointment/".concat(e._id),className:"btn-block",children:"View"})})]},e._id)})}))]})]})})})]}):Object(c.jsx)(j.a,{to:"/ws/login"})};var P=function(e){var t=e.isAuth,a=e.logout,n=(e.setIsAuth,Object(s.useState)()),r=Object(l.a)(n,2),i=r[0],d=r[1],b=Object(j.g)().id;function u(){return x.apply(this,arguments)}function x(){return(x=Object(m.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,h.a.get("/api/workshop/appointment/".concat(b),{headers:{Authorization:"Bearer ".concat(t)}});case 3:a=e.sent,d(a.data.appointment);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.prev=1,e.next=4,h.a.put("/api/workshop/appointment/".concat(b),{},{headers:{Authorization:"Bearer ".concat(t)}});case 4:u(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){u()}),[]),t?Object(c.jsxs)("div",{className:"cdash",children:[Object(c.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",expand:"lg",children:[Object(c.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(c.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(v.a,{className:"",children:[Object(c.jsx)(v.a.Link,{as:o.b,to:"/ws/login",children:"Home"}),Object(c.jsx)(v.a.Link,{onClick:a,children:"Logout"})]})})]}),Object(c.jsx)(f.a,{className:"cont",children:Object(c.jsx)(g.a,{children:Object(c.jsxs)(w.a,{children:[Object(c.jsxs)("div",{className:"my-3 mx-3",children:[Object(c.jsx)("h1",{children:"Appointment Details"}),i&&i.isAcknowledged?Object(c.jsx)("span",{class:"badge badge-pill badge-success",children:"Acknowledged"}):Object(c.jsx)("span",{class:"badge badge-pill badge-danger",children:"Pending Confirmation"})]}),Object(c.jsxs)(N.a,{children:[Object(c.jsx)(N.a.Header,{children:Object(c.jsx)("h3",{children:i&&i.vehicle.vehicleNumber})}),Object(c.jsxs)(N.a.Body,{children:[Object(c.jsxs)("div",{className:"mb-2",children:[Object(c.jsx)("h3",{children:Object(c.jsx)("u",{children:"Customer Details"})}),Object(c.jsxs)("h5",{children:["Name: ",i&&i.customer.firstname]}),Object(c.jsxs)("h5",{children:["Email: ",i&&i.customer.email]})]}),Object(c.jsxs)("div",{className:"mb-2",children:[Object(c.jsx)("h3",{children:Object(c.jsx)("u",{children:"Vehicle Details"})}),Object(c.jsx)("h5",{children:i&&i.vehicle.vehicleNumber}),Object(c.jsx)("h5",{children:i&&i.vehicle.make+" "+i.vehicle.model}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:Object(c.jsx)("u",{children:"Work required"})}),Object(c.jsx)("h4",{children:Object(c.jsxs)("strong",{children:[" ",i&&i.work]})})]})]})]}),Object(c.jsxs)(N.a.Footer,{children:[i&&!i.isAcknowledged&&Object(c.jsx)(k.a,{onClick:function(){return y.apply(this,arguments)},variant:"outline-success",className:"mr-3",children:"Confirm Appointment"}),Object(c.jsx)(k.a,{as:o.b,to:"/ws/job/".concat(b),variant:"outline-primary",children:"Complete Job"})]})]})]})})})]}):Object(c.jsx)(j.a,{to:"/ws/login"})},M=a(117);var z=function(e){var t=e.isAuth,a=e.logout,n=(e.setIsAuth,Object(s.useState)()),r=Object(l.a)(n,2),i=r[0],d=r[1],b=Object(s.useState)(),N=Object(l.a)(b,2),y=N[0],C=N[1],A=Object(s.useState)([]),I=Object(l.a)(A,2),B=I[0],L=I[1],D=Object(s.useState)(),T=Object(l.a)(D,2),H=T[0],q=T[1],Y=Object(j.g)().id,P=Object(s.useState)(!1),z=Object(l.a)(P,2),W=z[0],V=z[1];function E(){return(E=Object(m.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/workshop/appointment/".concat(Y),{headers:{Authorization:"Bearer ".concat(t)}});case 4:a=e.sent,C(a.data.appointment),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function U(e){q(Object(x.a)(Object(x.a)({},H),{},Object(u.a)({},e.target.name,e.target.value)))}function F(){return(F=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.post("/api/workshop/complete/".concat(Y),i,{headers:{Authorization:"Bearer ".concat(t)}});case 4:e.sent,V(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:d(Object(x.a)(Object(x.a)({},i),{},{item:B}));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){E.apply(this,arguments)}()}),[]),W?Object(c.jsx)(j.a,{to:"/dashboard/ws/".concat(y.workshop)}):t?Object(c.jsxs)("div",{className:"cdash",children:[Object(c.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",expand:"lg",children:[Object(c.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(c.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(v.a,{className:"",children:[Object(c.jsx)(v.a.Link,{as:o.b,to:"/ws/login",children:"Home"}),Object(c.jsx)(v.a.Link,{onClick:a,children:"Logout"})]})})]}),Object(c.jsx)(f.a,{className:"cont",children:Object(c.jsx)(g.a,{children:Object(c.jsxs)(w.a,{children:[Object(c.jsxs)("div",{className:"my-3 mx-3",children:[Object(c.jsx)("h1",{children:"Complete Job"}),Object(c.jsx)("h4",{children:y&&y.vehicle.vehicleNumber}),Object(c.jsx)("h4",{children:y&&y.vehicle.make+" "+y.vehicle.model}),Object(c.jsx)("h4",{children:y&&y.work})]}),Object(c.jsxs)(S.a,{children:[Object(c.jsx)(S.a.Label,{children:"Date"}),Object(c.jsx)(S.a.Control,{type:"date",name:"date",placeholder:"Job Completion Date",onChange:function(e){var t;d(Object(x.a)(Object(x.a)({},i),{},(t={},Object(u.a)(t,e.target.name,e.target.value),Object(u.a)(t,"workshop",y.workshop),t)))}}),Object(c.jsxs)("div",{className:"my-2",children:[Object(c.jsx)(S.a.Label,{children:"Items"}),Object(c.jsxs)(S.a.Row,{children:[Object(c.jsx)(w.a,{children:Object(c.jsx)(S.a.Control,{onChange:U,name:"item",placeholder:"Item"})}),Object(c.jsx)(w.a,{children:Object(c.jsx)(S.a.Control,{onChange:U,name:"qty",placeholder:"Quantity",type:"number"})}),Object(c.jsx)(w.a,{children:Object(c.jsx)(S.a.Control,{onChange:U,name:"price",placeholder:"Price",type:"number"})}),Object(c.jsx)(k.a,{onClick:function(){if(L([].concat(Object(M.a)(B),[H])),i.item){var e=i;e.item.push(H),d(e)}else d(Object(x.a)(Object(x.a)({},i),{},{item:[H]}))},children:"+"})]})]})]}),B.length>0&&Object(c.jsxs)(R.a,{className:"mt-3",striped:!0,bordered:!0,hover:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"#"}),Object(c.jsx)("th",{children:"Item"}),Object(c.jsx)("th",{children:"Quantity"}),Object(c.jsx)("th",{children:"Price"})]})}),Object(c.jsx)("tbody",{children:B.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t+1}),Object(c.jsx)("td",{children:e.item}),Object(c.jsx)("td",{children:e.qty}),Object(c.jsx)("td",{children:e.price})]},t)}))})]}),Object(c.jsx)(k.a,{onClick:function(){return F.apply(this,arguments)},className:"btn-block mt-4",children:"Submit"})]})})})]}):Object(c.jsx)(j.a,{to:"/ws/login"})};var W=function(e){var t=e.isAuth,a=e.logout,n=(e.setIsAuth,Object(j.g)().id),r=Object(s.useState)([]),i=Object(l.a)(r,2),d=i[0],b=i[1];return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,h.a.get("/api/workshop/".concat(n,"/cust"),{headers:{Authorization:"Bearer ".concat(t)}});case 4:a=e.sent,b(a.data.workshop.customers),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),t?Object(c.jsxs)("div",{className:"cdash",children:[Object(c.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",expand:"lg",children:[Object(c.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(c.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(v.a,{className:"",children:[Object(c.jsx)(v.a.Link,{as:o.b,to:"/ws/login",children:"Home"}),Object(c.jsx)(v.a.Link,{as:o.b,to:"/ws/customers/".concat(n),children:"Customers"}),Object(c.jsx)(v.a.Link,{onClick:a,children:"Logout"})]})})]}),Object(c.jsx)(f.a,{className:"cont",children:Object(c.jsxs)(g.a,{children:[Object(c.jsx)("div",{className:"mt-3 mx-3",children:Object(c.jsx)("h1",{children:"Customers"})}),d&&d.map((function(e){return Object(c.jsx)(w.a,{md:12,children:Object(c.jsxs)(N.a,{className:"my-3 shadow",children:[Object(c.jsx)(N.a.Header,{children:Object(c.jsx)(N.a.Title,{children:Object(c.jsx)("div",{children:e.firstname+" "+e.lastname})})}),Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)("div",{className:"my-3",children:Object(c.jsx)("h5",{children:e.email})}),Object(c.jsx)("div",{children:Object(c.jsx)("h5",{children:Object(c.jsx)("u",{children:"Vehicles"})})}),e.vehicles.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h6",{children:Object(c.jsx)("strong",{children:e.make+" "+e.model})}),e.serviceRecord.map((function(e){return Object(c.jsx)("div",{className:"table-responsive",children:Object(c.jsxs)(R.a,{striped:!0,bordered:!0,hover:!0,size:"sm",className:"text-center",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Date"}),Object(c.jsx)("th",{children:"Item"}),Object(c.jsx)("th",{children:"Quantity"}),Object(c.jsx)("th",{children:"Price"})]})}),e.workshop=="".concat(n)&&e.item.map((function(t){return Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:A()(e.date).format("dddd, DD MMMM YYYY")}),Object(c.jsx)("td",{children:t.item}),Object(c.jsx)("td",{children:t.qty}),Object(c.jsxs)("td",{children:["$",t.price]})]})})}))]})})}))]})}))]})]},e._id)})}))]})})]}):Object(c.jsx)(j.a,{to:"/ws/login"})};var V=function(e){var t=e.isAuth,a=(e.logout,e.setIsAuth,Object(s.useState)([])),n=Object(l.a)(a,2),r=n[0],i=n[1];return Object(s.useEffect)((function(){function e(){return(e=Object(m.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,h.a.get("/api/workshop/",{headers:{Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,i(a.data.workshop);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),t?Object(c.jsxs)("div",{className:"cdash",children:[Object(c.jsxs)(p.a,{variant:"dark",className:"d-flex justify-content-between navbar",expand:"lg",children:[Object(c.jsxs)(p.a.Brand,{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]}),Object(c.jsx)(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(c.jsx)(p.a.Collapse,{id:"basic-navbar-nav",children:Object(c.jsxs)(v.a,{className:"",children:[Object(c.jsx)(v.a.Link,{as:o.b,to:"/login",children:"Home"}),Object(c.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Workshops"}),Object(c.jsx)(v.a.Link,{as:o.b,to:"/cust/workshops/",children:"Logout"})]})})]}),Object(c.jsxs)(f.a,{className:"cont",children:[Object(c.jsx)(g.a,{children:Object(c.jsx)("div",{className:"my-3 mx-3",children:Object(c.jsx)("h1",{children:"Workshops"})})}),Object(c.jsx)(g.a,{children:r&&r.map((function(e){return Object(c.jsx)(w.a,{children:Object(c.jsxs)(N.a,{children:[Object(c.jsx)(N.a.Header,{children:Object(c.jsx)(N.a.Title,{children:e.name})}),Object(c.jsxs)(N.a.Body,{children:[Object(c.jsx)(N.a.Title,{children:"Contact Details"}),e.address," ",Object(c.jsx)("br",{})," ",e.email," ",Object(c.jsx)("br",{})," ",e.phone]})]})})}))})]})]}):Object(c.jsx)(j.a,{to:"/login"})};var E=function(e){var t=e.isRegis,a=e.setIsRegis,n=Object(s.useState)({}),r=Object(l.a)(n,2);r[0],r[1],D.b().shape({firstName:D.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),lastName:D.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),email:D.c().email("Invalid email").required("Required")});var i=D.b().shape({email:D.c().email("Invalid email").required("Required"),password:D.c().min(5,"Too Short!").max(50,"Too Long!").required("Required"),name:D.c().min(5,"Too Short!").required("Required"),phone:D.a().required("Required"),address:D.c().min(8,"Too Short!").required("Required")}),d=Object(T.a)({initialValues:{email:"",password:"",name:"",phone:"",address:""},validationSchema:i,onSubmit:function(e){!function(e){g.apply(this,arguments)}(e)}}),b=d.handleSubmit,u=d.handleChange,x=d.errors,p=d.values,v=d.touched;function g(){return(g=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/auth/register/ws",t);case 3:e.sent,a(!0),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return d.handleBlur,t?Object(c.jsx)(j.a,{to:"/ws/login"}):Object(c.jsx)("div",{className:"cdash d-flex align-items-center",children:Object(c.jsx)(f.a,{className:"text-center",children:Object(c.jsxs)(w.a,{md:4,className:"mx-auto py-4 cont2 shadow",children:[Object(c.jsx)("h3",{children:Object(c.jsxs)("strong",{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]})}),Object(c.jsx)("div",{className:"my-1",children:"REGISTER"}),Object(c.jsxs)(S.a,{onSubmit:b,children:[Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{placeholder:"Email",onChange:u,name:"email",value:p.email,className:v.email&&x.email?"is-invalid":null}),v.email&&x.email?Object(c.jsx)("div",{className:"invalid-feedback",children:x.email}):null]}),Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{onChange:u,placeholder:"Password",value:p.password,name:"password",type:"password",className:v.password&&x.email?"is-invalid":null}),v.password&&x.password?Object(c.jsx)("div",{className:"invalid-feedback",children:x.password}):null]}),Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{placeholder:"Workshop Name",onChange:u,value:p.name,name:"name",className:v.name&&x.name?"is-invalid":null}),v.name&&x.name?Object(c.jsx)("div",{className:"invalid-feedback",children:x.name}):null]}),Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{placeholder:"Address",onChange:u,value:p.address,name:"address",className:v.address&&x.address?"is-invalid":null}),v.address&&x.address?Object(c.jsx)("div",{className:"invalid-feedback",children:x.address}):null]}),Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{placeholder:"Phone Number",onChange:u,value:p.phone,name:"phone",className:v.phone&&x.phone?"is-invalid":null}),v.phone&&x.phone?Object(c.jsx)("div",{className:"invalid-feedback",children:x.phone}):null]}),Object(c.jsx)(S.a.Row,{className:"mb-3",children:Object(c.jsx)(k.a,{type:"submit",block:!0,children:"Register"})})]}),Object(c.jsx)(o.c,{to:"/ws/login",children:" Back "})]})})})};var U=function(e){var t=e.setIsAuth,a=e.isAuth,n=Object(s.useState)({}),r=Object(l.a)(n,2),i=(r[0],r[1],localStorage.getItem("id")),d=localStorage.getItem("token");Object(s.useEffect)((function(){!function(){if(d)t(!0),j.a,"/dashboard/cust/".concat(i)}()}),[]);var b=D.b().shape({email:D.c().email(),password:D.c()}),u=Object(T.a)({initialValues:{email:"",password:""},validationSchema:b,onSubmit:function(e){!function(e){y.apply(this,arguments)}(e)}}),x=u.handleSubmit,p=u.handleChange,v=u.errors,g=u.values,N=u.touched;function y(){return(y=Object(m.a)(O.a.mark((function e(a){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/auth/login/ws",a);case 3:c=e.sent,localStorage.setItem("token",c.data.token),localStorage.setItem("id",c.data.id),t(!0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return u.handleBlur,a?Object(c.jsx)(j.a,{to:"/dashboard/ws/".concat(i)}):Object(c.jsx)("div",{className:"cdash d-flex align-items-center",children:Object(c.jsx)(f.a,{className:"text-center",children:Object(c.jsxs)(w.a,{md:4,className:"mx-auto py-4 cont2 shadow",children:[Object(c.jsx)("h3",{children:Object(c.jsxs)("strong",{children:["WORKSHOP ",Object(c.jsx)("i",{class:"fas fa-tools"})," BUDDY"]})}),Object(c.jsxs)(S.a,{onSubmit:x,children:[Object(c.jsx)("div",{className:"my-2",children:"ADMIN LOGIN"}),Object(c.jsxs)(S.a.Row,{className:"mb-3",children:[Object(c.jsx)(S.a.Control,{placeholder:"email@email.com",value:g.email,onChange:p,name:"email",className:N.email&&v.email?"is-invalid":null}),N.email&&v.email?Object(c.jsx)("div",{className:"invalid-feedback",children:v.email}):null]}),Object(c.jsx)(S.a.Row,{className:"mb-3",children:Object(c.jsx)(S.a.Control,{onChange:p,placeholder:"password",value:g.password,name:"password",type:"password"})}),Object(c.jsx)(S.a.Row,{className:"mb-3",children:Object(c.jsx)(k.a,{type:"submit",block:!0,children:"Login"})})]}),Object(c.jsx)(o.c,{to:"/register/ws",children:"Register for an account"}),Object(c.jsx)("div",{className:"my-1",children:Object(c.jsx)(o.c,{to:"/login",children:"User Login"})})]})})})};var F=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(!1),i=Object(l.a)(r,2),d=i[0],h=i[1];function b(){localStorage.removeItem("token"),localStorage.removeItem("id"),n(!1)}return Object(c.jsx)(o.a,{children:Object(c.jsxs)(j.d,{children:[Object(c.jsx)(j.b,{path:"/dashboard/cust/:id",children:Object(c.jsx)(I,{logout:b,setIsAuth:n,isAuth:a})}),Object(c.jsx)(j.b,{path:"/cust/vehicle/:id",children:Object(c.jsx)(B,{logout:b,setIsAuth:n,isAuth:a})}),Object(c.jsx)(j.b,{path:"/cust/appointment/:id",children:Object(c.jsx)(L,{logout:b,setIsAuth:n,isAuth:a})}),Object(c.jsx)(j.b,{path:"/cust/workshops/",children:Object(c.jsx)(V,{logout:b,setIsAuth:n,isAuth:a})}),Object(c.jsx)(j.b,{path:"/dashboard/ws/:id",children:Object(c.jsx)(Y,{logout:b,setIsAuth:n,isAuth:a})}),Object(c.jsx)(j.b,{path:"/ws/appointment/:id",children:Object(c.jsx)(P,{logout:b,setIsAuth:n,isAuth:a})}),Object(c.jsx)(j.b,{path:"/ws/job/:id",children:Object(c.jsx)(z,{logout:b,setIsAuth:n,isAuth:a})}),Object(c.jsx)(j.b,{path:"/ws/customers/:id",children:Object(c.jsx)(W,{logout:b,setIsAuth:n,isAuth:a})}),Object(c.jsx)(j.b,{exact:!0,path:"/",children:Object(c.jsx)(j.a,{to:"/login"})}),Object(c.jsx)(j.b,{path:"/login",children:Object(c.jsx)(H,{setIsAuth:n,isAuth:a})}),Object(c.jsx)(j.b,{exact:!0,path:"/register",children:Object(c.jsx)(q,{setIsRegis:h,isRegis:d})}),Object(c.jsx)(j.b,{exact:!0,path:"/register/ws",children:Object(c.jsx)(E,{setIsRegis:h,isRegis:d})}),Object(c.jsx)(j.b,{exact:!0,path:"/ws/login",children:Object(c.jsx)(U,{setIsAuth:n,isAuth:a})})]})})},K=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,161)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(F,{})}),document.getElementById("root")),K()}},[[150,1,2]]]);
//# sourceMappingURL=main.72a9e909.chunk.js.map